## 软件工程-作业一

PB19030888 张舒恒

### 1.

等价类划分：

| 输入条件 |                 有效等价类                  | 编号 |                       无效等价类                        | 编号 |
| :------: | :-----------------------------------------: | :--: | :-----------------------------------------------------: | :--: |
|  接种号  |             首位是"A","B"或"C"              |  1   |              首位是字母但不为"A","B"或"C"               |  2   |
|  接种号  |                                             |      |                      首位不是字母                       |  3   |
|  接种号  | 2-3位是01,02,03,04,05,06,07,08,09,10,11或12 |  4   | 2-3位均是数字但不是01,02,03,04,05,06,07,08,09,10,11或12 |  5   |
|  接种号  |                                             |      |                     2-3位不都是数字                     |  6   |
|  接种号  |              4-5位是07,13或23               |  7   |              4-5位均是数字但不是07,13或23               |  8   |
|  接种号  |                                             |      |                     4-5位不都是数字                     |  9   |
|  接种号  |               6-10位均是数字                |  10  |                    6-10位不都是数字                     |  11  |
|  接种号  |                 输入是10位                  |  12  |                      输入不是10位                       |  13  |

数据测试：

| 编号 |   接种号    | 覆盖等价类  | 输入的合法性 |
| :--: | :---------: | :---------: | :----------: |
|  1   | B0107123456 | 1 4 7 10 13 |     非法     |
|  2   | A0107ABCDE  | 1 4 7 11 12 |     非法     |
|  3   | A01A854321  | 1 4 9 10 12 |     非法     |
|  4   | A010854321  | 1 4 8 10 13 |     非法     |
|  5   | ABB0754321  | 1 6 7 10 12 |     非法     |
|  6   | A130754321  | 1 5 7 10 12 |     非法     |
|  7   | 1010754321  | 3 4 7 10 12 |     非法     |
|  8   | P010754321  | 2 4 7 10 12 |     非法     |
|  9   | A010754321  | 1 4 7 10 12 |     合法     |

### 2.

#### 代码一：

| 结点 | 行数  |
| :--: | :---: |
|  1   |  1-4  |
|  2   |   5   |
|  3   |   7   |
|  4   |   8   |
|  5   |  10   |
|  6   |  12   |
|  7   | 14-16 |
|  8   |  17   |
|  9   | 18-19 |
|  10  |  21   |
|  11  |  23   |
|  12  |  25   |

|          独立路径          |              测试数据              | 结果 |
| :------------------------: | :--------------------------------: | :--: |
| 1,2,3,4,5,6,7,8,9,10,11,12 | i=1,j_initial=1,a[]="AB",b[]="ACB" |  2   |
|   1,2,3,4,5,7,9,10,11,12   |  i=1,j_initial=1,a[]="A",b[]="B"   |  0   |
|    1,2,3,4,5,6,10,11,12    |  i=1,j_initial=1,a[]="A",b[]="A"   |  1   |
|       1,2,3,4,11,12        |  i=1,j_initial=2,a[]="A",b[]="A"   |  0   |
|           1,2,12           |  i=2,j_initial=1,a[]="A",b[]="A"   |  0   |

环路复杂度 = 15-12+2 = 5

#### 代码二：


| 结点 | 行数  |
| :--: | :---: |
|  1   |  1-3  |
|  2   |   4   |
|  3   |  5-6  |
|  4   |   7   |
|  5   |   8   |
|  6   |  10   |
|  7   |  11   |
|  8   | 13-14 |
|  9   |  16   |

|   独立路径    |       测试数据        |   结果    |
| :-----------: | :-------------------: | :-------: |
|   1,3,6,7,9   | 2是素数，该路径不存在 |           |
|  1,3,4,6,8,9  |          n=3          |  3是素数  |
| 1,3,4,5,6,7,9 |          n=4          | 4不是素数 |
|   1,3,6,8,9   |          n=2          |  2是素数  |
|     1,2,9     |          n=1          | 1不是素数 |

环路复杂度 = 12-9+2 = 5

### 3.

#### BUG1：

![image-20220331100131186](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331100131186.png)

​	该BUG类型为Blocker，具体原因是python中__init__方法需要返回 None。 如果 __init__ 方法产生或返回 None 以外的任何表达式，则会引发 TypeError。 即使返回一些计算结果为 None 的表达式不会引发错误，但会引发警告。修改方法是重新定义一个类方法来进行输出，如下图所示，修改后可正常运行。

![image-20220331101323064](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331101323064.png)

![image-20220331101346938](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331101346938.png)

#### BUG2：

![image-20220331101603342](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331101603342.png)

​	该BUG类型为Major，具体原因是在 if 链的每个分支中都有相同的操作是错误的。一般来说要么发生了复制粘贴错误，应该执行不同的操作，要么根本不应该有 if 链。修改方法是取消if 链，按顺序继续执行，如下图所示，修改后可正常运行。

![image-20220331102128291](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331102128291.png)

![image-20220331102159996](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331102159996.png)

#### BUG3：

![image-20220331102343342](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331102343342.png)

​	该BUG类型为Minor，具体原因是正则表达式不应包含正文与空字符串匹配的重复模式， 通常可能是正则表达式的一部分是多余的。修改方法是修改正则表达式，使得匹配出非空字符串，如下图所示，修改后可正常运行。

![image-20220331102720008](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331102720008.png)

![image-20220331102753720](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331102753720.png)

#### BUG4：

![image-20220331102825416](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331102825416.png)

​     该BUG类型为Critical，具体原因是break 和 continue 是非结构化的控制流语句，所以当导入循环外的 break 或 continue 的模块时，较新的 Python 版本会引发 SyntaxError。修改方法是在if语句中使用exit()代替break，删除continue，如下图所示，修改后可正常运行。

![image-20220331103708740](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331103708740.png)

![image-20220331103643654](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331103643654.png)

#### BUG5：

![image-20220331103755638](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331103755638.png)

​    该BUG类型为Blocker，具体原因是调用函数时，每个参数只接受一个值。 Python 解释器对于类似 function(a=1, a=2) 的代码时会引发 SyntaxError，还有一些参数是通过解包提供的，并且相同的参数提供了两次。当调用函数同一参数传入多个值时，便会引发问题。修改方法是减少形式参数，确保每个参数只传入一个值，如下图所示，修改后可正常运行。

![image-20220331104337776](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331104337776.png)

![image-20220331104352328](C:\Users\凝雨\AppData\Roaming\Typora\typora-user-images\image-20220331104352328.png)